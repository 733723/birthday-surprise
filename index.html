<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Her ‚Äî Surprise</title>
<style>
  :root{
    --bg:#fff5f7;
    --accent:#ff5a8f;
    --muted:#6b6b6b;
    --card:#ffffff;
    --shadow: 0 6px 18px rgba(0,0,0,0.12);
    --button-fade: 350ms ease;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,#fffaf0 0%, #fff1f6 100%);
    color:#222;
    text-align:center;
    -webkit-font-smoothing:antialiased;
  }
  .container{max-width:920px;margin:0 auto;padding:18px;}
  .card{background:var(--card);border-radius:14px;box-shadow:var(--shadow);padding:18px;margin-bottom:18px;}
  .hero{display:flex;flex-direction:column;align-items:center;gap:14px;text-align:center;padding:28px 12px;}
  .quote{font-size:20px;line-height:1.3;color:var(--muted);padding:8px 12px;max-width:820px;}
  .label{font-size:14px;color:var(--muted);}
  .love-btn{background:linear-gradient(90deg,var(--accent),#ff8fb8);color:white;border:none;padding:14px 20px;border-radius:40px;font-weight:700;font-size:18px;box-shadow:0 8px 22px rgba(255,90,143,0.18);cursor:pointer;transition:transform .3s;}
  .love-btn:active{transform:scale(.98);}

  /* QUESTIONS */
  .questions{display:none;}
  .question-card{text-align:center;}
  .qtext{font-size:18px;margin-bottom:10px;color:#333;}
  .choices{display:flex;gap:10px;justify-content:center;margin-top:12px;}
  .choice{flex:1;min-width:110px;border-radius:10px;padding:12px 8px;font-weight:700;border:2px solid rgba(0,0,0,0.06);cursor:pointer;background:#fff;}
  .choice.yes{background:linear-gradient(90deg,#fff0f6,#ffd7ea);}
  .choice.no{background:#f6f6f6;}

  /* Modal */
  .modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:2000;}
  .modal{background:white;padding:18px;border-radius:12px;max-width:480px;box-shadow:0 8px 30px rgba(0,0,0,0.25);text-align:left;}
  .ok-btn{margin-top:12px;padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;font-weight:700;cursor:pointer;}

  /* SLIDESHOW & SONG */
  .song-section{display:none;padding:12px;position:relative;overflow:hidden;min-height:320px;}
  .slideshow{height:100%;border-radius:12px;overflow:hidden;background:#111;display:flex;align-items:center;justify-content:center;padding:12px;}
  .slideshow img{
    width:auto;
    height:auto;
    max-width:100%;
    max-height:78vh;
    object-fit:contain;
    display:block;
    border-radius:10px;
    transition: opacity 600ms ease;
    opacity:1;
  }

  /* Petals */
  .petal{position:fixed;top:-60px;border-radius:50%;opacity:0.95;z-index:1500;animation:fall linear forwards;pointer-events:none;}
  @keyframes fall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1;}100%{transform:translateY(110vh) rotate(360deg);opacity:0;}}

  /* center buttons (fade-in) */
  .center-btn {
    margin:18px auto 8px;
    padding:12px 18px;border-radius:12px;background:var(--accent);color:#fff;border:none;font-weight:800;cursor:pointer;
    opacity:0; transform: translateY(6px);
    transition: opacity var(--button-fade), transform var(--button-fade);
    display:inline-block;
  }
  .center-btn.show { opacity:1; transform: translateY(0); }

  /* video */
  .video-card{display:none;padding:12px;}
  video{width:100%;border-radius:12px;background:black;max-height:78vh;}

  /* animated quotes */
  .anim-quote{display:none;transform:translateX(-120%);opacity:0;transition:transform 600ms cubic-bezier(.2,.8,.2,1),opacity 600ms; font-size:20px;padding:14px 18px;border-radius:10px;background:#fff6fb;margin:18px auto;max-width:920px;color:#333;box-shadow:0 8px 20px rgba(198,87,134,0.06);}
  .anim-quote.show{display:block;transform:translateX(0);opacity:1;}

  .father-quote{display:none;transform:translateX(-120%);transition:transform 600ms,opacity 600ms;opacity:0;padding:12px 16px;margin:12px auto;background:#fff;border-radius:10px;max-width:820px;color:#222;font-size:18px;box-shadow:0 6px 12px rgba(0,0,0,0.04);}
  .father-quote.show{display:block;transform:translateX(0);opacity:1;}

  .super-quote{display:none;transform:translateX(-120%);transition:transform 700ms,opacity 700ms;opacity:0;font-size:20px;padding:16px;border-radius:12px;background:#fff6f9;margin:18px auto;max-width:900px;color:#222;box-shadow:0 10px 30px rgba(255,90,143,0.08); text-shadow: 0 2px 10px rgba(255,150,185,0.12); }
  .super-quote.show{display:block;transform:translateX(0);opacity:1; filter: drop-shadow(0 8px 30px rgba(255,90,143,0.08));}

  footer{padding:22px 0;color:#999;font-size:13px;}
  @media(min-width:700px){ .quote{font-size:24px} }
</style>
</head>
<body>
<div class="container">

  <!-- LANDING -->
  <section id="landing" class="card hero">
    <h1>A little page, just for you Jaya Papa</h1>
    <div class="quote" id="main-quote">"You are the steady rhythm my heart learned to dance to ‚Äî quiet, certain, and utterly home."</div>
    <div style="width:100%;max-width:420px">
      <div class="label">Click the love button below to know how I love you...</div>
      <div style="height:10px"></div>
      <button class="love-btn" id="startBtn">‚ù§ LOVE ‚ù§</button>
    </div>
  </section>

  <!-- QUESTIONS -->
  <section id="questions" class="card questions">
    <div class="question-card">
      <div id="qtext" class="qtext">Question 1</div>
      <div class="choices">
        <button class="choice yes" id="yesBtn">YES</button>
        <button class="choice no" id="noBtn">NO</button>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div id="modalBack" class="modal-back" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <h3 id="modalTitle">Answer</h3>
      <p id="modalText">Response text goes here</p>
      <div style="text-align:right"><button class="ok-btn" id="modalClose">OK</button></div>
    </div>
  </div>

  <!-- SLIDESHOW + SONG -->
  <section id="song" class="card song-section">
    <h3 style="margin-top:0">Listen to this</h3>
    <div class="slideshow"><img id="slideImg" src="" alt="Memories slideshow"></div>

    <!-- local song file -->
    <audio id="songAudio" preload="auto">
      <source src="song.mp3" type="audio/mpeg">
      Your browser doesn't support audio.
    </audio>

    <div style="height:10px"></div>
    <button id="wishesBtn" class="center-btn">Click here to reveal the wishes üíå</button>
    <button id="replaySlides" class="center-btn">Replay slideshow üîÅ</button>
  </section>

  <!-- VIDEO 1 -->
  <section id="video1" class="card video-card">
    <h3>Your Wishes</h3>
    <video id="wishesVideo" controls>
      <source src="video1.mp4" type="video/mp4">
      Your browser doesn't support video.
    </video>
    <div style="height:12px"></div>
    <button id="replayWishes" class="center-btn">Replay wishes üîÅ</button>
    <button id="openMain" class="center-btn">Click here for final surprise üéÅ</button>
  </section>

  <!-- FATHER QUOTES + VIDEO 2 -->
  <section id="father" class="card video-card">
    <h3>Messages from heaven</h3>
    <div id="f1" class="father-quote">"From above, I see your smile and I am proud."</div>
    <div id="f2" class="father-quote">"Your strength is his lasting gift ‚Äî he watches and comforts."</div>
    <div id="f3" class="father-quote">"May peace find you in every sunrise; he sends his love."</div>

    <video id="fatherVideo" controls style="display:none;">
      <source src="video2.mp4" type="video/mp4">
      Your browser doesn't support video.
    </video>

    <div id="finalSuper" class="super-quote">[Replace with your final super quote from you]</div>
  </section>

  <footer>Made with ‚ù§Ô∏è ‚Äî Mohan</footer>
</div>

<script>
/* ===== CONFIG - edit these placeholders ===== */
const questions = [
  "Ela unavu Jaya Papa", 
  "Tinava? Enti ekkada kuda edey question anukuntunava, mari ame chastam nv apudu sarega tinavu chapu", 
  "Ecitement ga unda?"
];
const responses = {
  q1: { yes: "Baganey untavu le nenu unna kada neku hehe..!", no: "Avuna. Ame pravaledu nenu antha set chasta le hehe..." },
  q2: { yes: "Enti nuvey tinava nijamey na ? sarey le ....", no: "Naku telesu a nv tinavu ane.... ede ayyaka tinu velli sarey na?" },
  q3: { yes: "Untadae le mari tana bf, gf ke elative chastey untade untade hehe...", no: "Leda? Sarey kangaru padaku mundu mundu excitement feel avutavu le" }
};
const photos = ["img1.jpeg","img2.JPG","img3.JPG"]; // put your image filenames here (same folder)
const songFile = "song.mp3";   // your song file (same folder)
const video1File = "video1.mp4"; // wishes video
const video2File = "video2.mp4"; // father video
const finalSuperQuote = "I worked hard to create this for my love ‚Äî forever and always. Nee Mohan ‚ù§Ô∏è";
/* ===== end config ===== */

document.getElementById('finalSuper').innerText = finalSuperQuote;

/* Elements */
const startBtn = document.getElementById('startBtn');
const landing = document.getElementById('landing');
const questionsSection = document.getElementById('questions');
const qtext = document.getElementById('qtext');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');

const modalBack = document.getElementById('modalBack');
const modalText = document.getElementById('modalText');
const modalClose = document.getElementById('modalClose');

const songSection = document.getElementById('song');
const slideImg = document.getElementById('slideImg');
const audio = document.getElementById('songAudio');
const wishesBtn = document.getElementById('wishesBtn');
const replaySlides = document.getElementById('replaySlides');

const video1Section = document.getElementById('video1');
const wishesVideo = document.getElementById('wishesVideo');
const replayWishes = document.getElementById('replayWishes');
const openMain = document.getElementById('openMain');

const fatherSection = document.getElementById('father');
const fatherQuotes = [document.getElementById('f1'), document.getElementById('f2'), document.getElementById('f3')];
const fatherVideo = document.getElementById('fatherVideo');
const finalSuperEl = document.getElementById('finalSuper');

/* State */
let curQ = 0;
let slideIdx = 0;
let slideTimer = null;
let petalNodes = [];

/* Start -> show questions */
startBtn.addEventListener('click', () => {
  landing.style.display = 'none';
  questionsSection.style.display = 'block';
  showQuestion(0);
});

/* Questions flow */
function showQuestion(i){
  curQ = i;
  if(i >= questions.length){
    // All done -> prompt to plug earphones then start slideshow
    openModal("Almost there", "Please plug your earphones üéß and click OK to start the memories.", () => {
      questionsSection.style.display = 'none';
      startSlideshow(); // start slideshow
    });
    return;
  }
  qtext.textContent = questions[i];
}

yesBtn.addEventListener('click', ()=> handleAnswer(true));
noBtn.addEventListener('click', ()=> handleAnswer(false));

function handleAnswer(isYes){
  const key = `q${curQ+1}`;
  const text = isYes ? responses[key].yes : responses[key].no;
  openModal("Answer", text, () => {
    showQuestion(curQ + 1);
  });
}

/* Modal open/close */
function openModal(title, text, cb){
  document.getElementById('modalTitle').innerText = title;
  modalText.innerText = text;
  modalBack.style.display = 'flex';
  modalBack.setAttribute('aria-hidden','false');
  modalClose.onclick = () => {
    modalBack.style.display = 'none';
    modalBack.setAttribute('aria-hidden','true');
    if(cb) cb();
  };
}

/* Slideshow logic */
function startSlideshow(){
  // prepare media
  slideIdx = 0;
  slideImg.style.opacity = 0;
  if(photos && photos.length) slideImg.src = photos[0];
  else slideImg.src = '';

  // show section, hide buttons initially
  songSection.style.display = 'block';
  wishesBtn.classList.remove('show'); wishesBtn.style.opacity=0;
  replaySlides.classList.remove('show'); replaySlides.style.opacity=0;

  // start audio
  audio.pause();
  audio.src = songFile;
  audio.load();
  audio.play().catch(()=>{ /* user may tap if browser blocks */ });

  // show first image after tiny delay (for fade)
  setTimeout(()=> slideImg.style.opacity = 1, 50);

  // create petals
  createPetals(24);

  // start slide timer
  if(slideTimer) clearInterval(slideTimer);
  slideTimer = setInterval(()=> {
    slideIdx++;
    if(slideIdx < photos.length){
      // fade out, change src, fade in
      slideImg.style.opacity = 0;
      setTimeout(()=> {
        slideImg.src = photos[slideIdx];
        slideImg.style.opacity = 1;
      }, 250);
    } else {
      // slides finished
      clearInterval(slideTimer);
      slideTimer = null;
      // stop audio when slides end
      audio.pause();
      // show buttons (fade-in)
      setTimeout(()=> {
        showCenterButton(wishesBtn);
        showCenterButton(replaySlides);
      }, 300);
      // remove petals slowly
      setTimeout(removePetals, 1400);
    }
  }, 4000);
}

/* Replay slides */
replaySlides.addEventListener('click', () => {
  // hide buttons
  hideCenterButton(wishesBtn);
  hideCenterButton(replaySlides);
  // restart slideshow
  if(slideTimer) clearInterval(slideTimer);
  startSlideshow();
});

/* Wishes button -> open video1 */
wishesBtn.addEventListener('click', () => {
  // hide song section and buttons
  hideCenterButton(wishesBtn);
  hideCenterButton(replaySlides);
  songSection.style.display = 'none';
  openVideo1();
});

/* show/hide center buttons with fade */
function showCenterButton(btn){
  btn.classList.add('show');
  // ensure visible (class handles opacity/transform)
  setTimeout(()=> btn.style.opacity = 1, 10);
}
function hideCenterButton(btn){
  btn.classList.remove('show');
  btn.style.opacity = 0;
}

/* create petals */
function createPetals(n){
  removePetals();
  for(let i=0;i<n;i++){
    const el = document.createElement('div');
    el.className = 'petal';
    const colors = ["#ff99c8","#ff5fa2","#ff7aa2","#ffa4b8","#ffc0cb"];
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.left = Math.random()*100 + 'vw';
    el.style.width = (8 + Math.random()*24) + 'px';
    el.style.height = el.style.width;
    el.style.animationDuration = (3 + Math.random()*5) + 's';
    el.style.opacity = 0.8 - Math.random()*0.35;
    el.style.animationDelay = (Math.random()*1.2) + 's';
    document.body.appendChild(el);
    petalNodes.push(el);
  }
}
function removePetals(){
  petalNodes.forEach(n => { if(n.parentNode) n.parentNode.removeChild(n); });
  petalNodes = [];
}

/* Video1 flow */
function openVideo1(){
  video1Section.style.display = 'block';
  // set source (if changed)
  wishesVideo.pause();
  wishesVideo.src = video1File;
  wishesVideo.load();
  wishesVideo.currentTime = 0;
  wishesVideo.play().catch(()=>{});
  // hide replay/open buttons until video ends
  replayWishes.classList.remove('show'); replayWishes.style.opacity=0;
  openMain.classList.remove('show'); openMain.style.opacity=0;

  wishesVideo.onended = () => {
    // show options: replay wishes or go to final surprise
    showCenterButton(replayWishes);
    showCenterButton(openMain);
  };
}

/* replay wishes */
replayWishes.addEventListener('click', () => {
  hideCenterButton(replayWishes);
  hideCenterButton(openMain);
  // replay wishes
  wishesVideo.currentTime = 0;
  wishesVideo.play().catch(()=>{});
});

/* proceed to father quotes */
openMain.addEventListener('click', () => {
  // hide video1 section
  video1Section.style.display = 'none';
  // show father quote section
  fatherSection.style.display = 'block';
  // show father quotes one-by-one
  showFatherQuoteSequence();
});

/* Father quote sequence */
function showFatherQuoteSequence(){
  // hide quotes initially
  fatherQuotes.forEach(q => { q.classList.remove('show'); q.style.display='none'; });
  let idx = 0;
  function next(){
    if(idx < fatherQuotes.length){
      const el = fatherQuotes[idx];
      el.style.display = 'block';
      setTimeout(()=> el.classList.add('show'), 40);
      // add a Next button under this quote
      const btn = document.createElement('button');
      btn.textContent = (idx < fatherQuotes.length - 1) ? 'Next' : 'Play Blessing';
      btn.className = 'center-btn';
      // ensure visible
      setTimeout(()=> { btn.classList.add('show'); }, 60);
      btn.onclick = () => {
        // remove btn and animate out quote
        btn.classList.remove('show');
        el.classList.remove('show');
        setTimeout(()=> { el.style.display='none'; btn.remove(); idx++; next(); }, 380);
      };
      el.appendChild(btn);
    } else {
      // after all quotes, play father video
      fatherVideo.style.display = 'block';
      fatherVideo.src = video2File;
      fatherVideo.load();
      fatherVideo.currentTime = 0;
      fatherVideo.play().catch(()=>{});
      fatherVideo.onended = () => {
        // hide video2 then show final super quote (slide in with glow)
        fatherVideo.style.display = 'none';
        finalSuperEl.style.display = 'block';
        setTimeout(()=> finalSuperEl.classList.add('show'), 40);
        // optional: add a restart prompt after a pause (not required now)
        // (You can implement restart UI here if you want)
      };
    }
  }
  next();
}

/* Accessibility: close modal by clicking outside or Esc */
modalBack.addEventListener('click', (e) => {
  if(e.target === modalBack){ modalBack.style.display = 'none'; modalBack.setAttribute('aria-hidden','true'); }
});
document.addEventListener('keydown', (e) => { if(e.key === 'Escape'){ modalBack.style.display = 'none'; modalBack.setAttribute('aria-hidden','true'); } });

/* Preload media paths */
audio.src = songFile;
wishesVideo.src = video1File;
fatherVideo.src = video2File;

/* End */
</script>
</body>
</html>
